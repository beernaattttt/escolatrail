<!DOCTYPE html>
<html lang="ca">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Escola Trail Barcelona - El Papiol</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: '#1e3a8a',
              secondary: '#3b82f6'
            },
            fontFamily: {
              display: ['"Poppins"', 'sans-serif']
            },
            animation: {
              fade: 'fadeIn 1s ease-in-out',
              pulseSlow: 'pulse 4s ease-in-out infinite'
            },
            keyframes: {
              fadeIn: {
                '0%': { opacity: '0' },
                '100%': { opacity: '1' }
              }
            }
          }
        }
      }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
  </head>
  <body class="bg-white text-gray-800 font-display">

<!-- NAVBAR -->
    <nav class="bg-white shadow-md sticky top-0 z-50">
      <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
        <h1 class="text-3xl font-extrabold text-primary tracking-tight">Escola Trail BCN</h1>
        <div class="md:hidden">
          <button id="menu-toggle" class="text-primary focus:outline-none">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </button>
        </div>
        <ul id="nav-links" class="hidden md:flex gap-10 text-base font-semibold">
          <li><a href="#" class="relative group">Inici</a></li>
          <li><a href="#" class="relative group">Entrenaments</a></li>
          <li><a href="#" class="relative group">Calendari</a></li>
          <li><a href="#" class="relative group">Contacte</a></li>
        </ul>
      </div>
      <div id="mobile-menu" class="md:hidden hidden px-4 pb-4">
        <ul class="flex flex-col gap-4 text-base font-semibold">
          <li><a href="#" class="text-primary">Inici</a></li>
          <li><a href="#" class="text-primary">Entrenaments</a></li>
          <li><a href="#" class="text-primary">Calendari</a></li>
          <li><a href="#" class="text-primary">Contacte</a></li>
        </ul>
      </div>
    </nav>
       <!-- PANEL DE NOTIFICACIONS -->
    <div id="notifications-panel" class="hidden fixed top-20 right-4 bg-white shadow-lg rounded-lg w-80 max-h-[60vh] overflow-y-auto border border-gray-200 z-50">
      <div class="p-4 border-b text-lg font-semibold text-primary">Notificacions</div>
      <ul id="notifications-list" class="p-4 space-y-4 text-sm text-gray-700"></ul>
    </div>

    <!-- HEADER -->
    <header class="relative bg-gradient-to-br from-primary to-secondary text-white pt-12 pb-24 overflow-hidden">
      <div class="max-w-7xl mx-auto px-4 flex flex-col-reverse md:flex-row items-center justify-between gap-10">
        <div class="md:w-1/2 text-left animate-fade-in-up mt-[-3rem] md:mt-0">
          <h2 class="text-5xl md:text-7xl font-extrabold leading-tight mb-4">
            Corre.<br />
            Viu.<br />
            Gaudeix.
          </h2>
          <p class="text-lg font-light mb-6">Escola Trail Barcelona - El Papiol</p>
          <a href="#" class="inline-block bg-white text-primary font-semibold px-6 py-3 rounded-full shadow-md hover:scale-105 hover:bg-gray-100 transition-transform duration-300">Inscriu-te ara</a>
        </div>
        <div class="md:w-1/2 flex justify-center relative">
          <div class="relative w-full max-w-md aspect-[3/4] overflow-hidden rounded-3xl">
            <img id="runner-image" src="runner1.png" alt="Corredor Escola Trail" class="absolute inset-0 w-full h-full object-contain transition-opacity duration-700" />
          </div>
        </div>
      </div>
      <div class="absolute bottom-0 left-0 right-0 h-16 bg-white rounded-t-[40%]"></div>
    </header>

    <!-- CONTINGUT -->
    <main class="max-w-5xl mx-auto py-16 px-4 text-center">
      <p class="text-xl text-gray-700">L’Escola Trail Barcelona forma nens, joves i famílies en l’amor pel trail, la natura i l’esport. Ens movem amb passió a través dels corriols del Papiol i més enllà!</p>
    </main>



 
    <!-- FOOTER -->
    <footer class="bg-gray-900 text-white py-16">
      <div class="max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-10 px-4">
        <div>
          <h3 class="text-lg font-bold mb-2">Enllaços útils</h3>
          <ul class="text-sm space-y-2 text-gray-400">
            <li><a href="#" class="hover:text-white">Entrenadors</a></li>
            <li><a href="#" class="hover:text-white">Inscripcions</a></li>
            <li><a href="#" class="hover:text-white">Equipació</a></li>
            <li><a href="#" class="hover:text-white">FAQ</a></li>
          </ul>
        </div>
        <div>
          <h3 class="text-lg font-bold mb-2">Xarxes socials</h3>
          <ul class="text-sm space-y-2 text-gray-400">
            <li><a href="#" class="hover:text-white">Instagram</a></li>
            <li><a href="#" class="hover:text-white">Facebook</a></li>
          </ul>
        </div>
        <div>
          <h3 class="text-lg font-bold mb-2">Contacte</h3>
          <p class="text-sm text-gray-400">info@trailbarcelona.cat</p>
          <p class="text-sm text-gray-400">+34 600 123 456</p>
        </div>
      </div>
      <div class="mt-10 text-center text-xs text-gray-500 px-4">
        © 2025 Escola Trail Barcelona · El Papiol
      </div>
    </footer>
    <!-- SCRIPT PER CANVIAR CORREDORS I NOTIFICACIONS -->
    <script>
      const images = ["runner1.png", "runner2.png", "runner3.png"];
      let index = 0;
      const runnerImage = document.getElementById("runner-image");

      setInterval(() => {
        index = (index + 1) % images.length;
        runnerImage.classList.add("opacity-0");
        setTimeout(() => {
          runnerImage.src = images[index];
          runnerImage.classList.remove("opacity-0");
        }, 300);
      }, 5000);

      document.getElementById("menu-toggle").addEventListener("click", () => {
        document.getElementById("mobile-menu").classList.toggle("hidden");
      });

      const API_KEY = "46594dfbacc51b17b903fdd5f321fa68";
      const TOKEN = "ATTA522c8e946ac5d01cc886adfac9dee16d1391f0150b381a9af42911dae592c51077B04A6C";
      const LIST_ID = "67de7eb455ba25d170f7e58f";

      async function fetchTrelloNotifications() {
        const response = await fetch(`https://api.trello.com/1/lists/${LIST_ID}/cards?key=${API_KEY}&token=${TOKEN}&fields=name,labels,url`);
        const data = await response.json();

        const list = document.getElementById("notifications-list");
        list.innerHTML = "";

        if (data.length > 0) {
          document.getElementById("notification-badge").classList.remove("hidden");
        } else {
          document.getElementById("notification-badge").classList.add("hidden");
        }

        data.slice(0, 5).forEach(card => {
          const li = document.createElement("li");
          let labelsHTML = "";

          if (card.labels && card.labels.length > 0) {
            labelsHTML = `<div class='flex gap-2 mb-1'>` + card.labels.map(label => {
              const colorClass = {
                green: 'bg-green-500',
                yellow: 'bg-yellow-400',
                orange: 'bg-orange-500',
                red: 'bg-red-500',
                purple: 'bg-purple-500',
                blue: 'bg-blue-500',
                sky: 'bg-sky-500',
                pink: 'bg-pink-500',
                black: 'bg-black',
                lime: 'bg-lime-500',
                null: 'bg-gray-400'
              }[label.color] || 'bg-gray-400';
              return `<span class='text-white text-xs font-medium px-2 py-0.5 rounded ${colorClass}'>${label.name}</span>`;
            }).join('') + `</div>`;
          }

          li.innerHTML = `
            <a href="${card.url}" target="_blank" class="block hover:bg-gray-100 rounded px-2 py-2">
              ${labelsHTML}
              <span class="font-semibold">${card.name}</span>
            </a>`;
          list.appendChild(li);
        });
      }

      document.getElementById("notifications-btn").addEventListener("click", () => {
        const panel = document.getElementById("notifications-panel");
        panel.classList.toggle("hidden");
      });

      fetchTrelloNotifications();
      setInterval(fetchTrelloNotifications, 60000);
    </script>

  </body>
</html>
